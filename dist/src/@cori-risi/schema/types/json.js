"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.JSONObject = void 0;
exports.coerceObject = coerceObject;
exports.parseObject = parseObject;
const definition_1 = require("graphql/type/definition");
const flatted_1 = require("flatted");
function coerceObject(value) {
    try {
        return (0, flatted_1.parse)(value);
    }
    catch (err) {
        return value;
    }
}
function parseObject(valueAST) {
    return (0, flatted_1.stringify)(valueAST.value);
}
exports.JSONObject = new definition_1.GraphQLScalarType({
    name: 'JSONObject',
    description: 'Arbitrary JSON value',
    serialize: coerceObject,
    parseValue: coerceObject,
    parseLiteral: parseObject,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9AY29yaS1yaXNpL3NjaGVtYS90eXBlcy9qc29uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUdBLG9DQU1DO0FBRUQsa0NBRUM7QUFiRCx3REFBMEU7QUFDMUUscUNBQTJDO0FBRTNDLFNBQWdCLFlBQVksQ0FBRSxLQUFVO0lBQ3RDLElBQUksQ0FBQztRQUNILE9BQU8sSUFBQSxlQUFLLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDYixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7QUFDSCxDQUFDO0FBRUQsU0FBZ0IsV0FBVyxDQUFFLFFBQWE7SUFDeEMsT0FBTyxJQUFBLG1CQUFTLEVBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ25DLENBQUM7QUFFWSxRQUFBLFVBQVUsR0FBRyxJQUFJLDhCQUFVLENBQUM7SUFDdkMsSUFBSSxFQUFFLFlBQVk7SUFDbEIsV0FBVyxFQUFFLHNCQUFzQjtJQUNuQyxTQUFTLEVBQUUsWUFBWTtJQUN2QixVQUFVLEVBQUUsWUFBWTtJQUN4QixZQUFZLEVBQUUsV0FBVztDQUMxQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHcmFwaFFMU2NhbGFyVHlwZSBhcyBTY2FsYXJUeXBlIH0gZnJvbSBcImdyYXBocWwvdHlwZS9kZWZpbml0aW9uXCI7XG5pbXBvcnQgeyBwYXJzZSwgc3RyaW5naWZ5IH0gZnJvbSBcImZsYXR0ZWRcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvZXJjZU9iamVjdCAodmFsdWU6IGFueSkge1xuICB0cnkge1xuICAgIHJldHVybiBwYXJzZSh2YWx1ZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VPYmplY3QgKHZhbHVlQVNUOiBhbnkpIHtcbiAgcmV0dXJuIHN0cmluZ2lmeSh2YWx1ZUFTVC52YWx1ZSk7XG59XG5cbmV4cG9ydCBjb25zdCBKU09OT2JqZWN0ID0gbmV3IFNjYWxhclR5cGUoe1xuICBuYW1lOiAnSlNPTk9iamVjdCcsXG4gIGRlc2NyaXB0aW9uOiAnQXJiaXRyYXJ5IEpTT04gdmFsdWUnLFxuICBzZXJpYWxpemU6IGNvZXJjZU9iamVjdCxcbiAgcGFyc2VWYWx1ZTogY29lcmNlT2JqZWN0LFxuICBwYXJzZUxpdGVyYWw6IHBhcnNlT2JqZWN0LFxufSk7XG4iXX0=